/*
{3^k/10^4} = {3^m/10^4} = {3^n/10^4} =>
3^k = 3^m = 3^n (mod 10^4) =>
k = m = n (mod 500) =>
k = k1*500 + a, m = m1*500 + a, n = n1*500 + a
s.t. k1 > m1 > n1, 0 <= a < 500
m + n > k => (n1+m1-k1)*500 + a > 0 =>

(1) a = 0, n1 = 2, m1 = 3, k1 = 4 => k = 2000, m = 1500, n = 1000
=> p = 4500
(2) 0 < a < 500, n1 = 1, m1 = 2, k1 = 3 => k = 1500+a, m = 1000+a, n = 500+a =>
=> when a = 1, minimum p = 3000+3*a = 3003
*/


{
ans = 3003;
print(ans);
}
